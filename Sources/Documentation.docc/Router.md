# Destiny Router

Destiny routers use perfect hashing by default when generated by the macros to direct requests to their route responders for maximum efficiency.

## Table of Contents
- [Macros](#macros)
- [Routes](#routes)
- [See Also](#see-also)

## Macros

See [Macros.swift](https://github.com/RandomHashTags/destiny/blob/main/Sources/DestinySwiftSyntax/Macros.swift)

## Routes

When using Destiny for non-embedded, the most convenient way to register a route to a router is by using the `Route` struct in a macro. It supports any request method, but the most popular methods have static functions for convenience.

Below is a simple route which returns "Hello World" in the body of the response.

```swift
Route.get(
    path: ["helloworld"],
    mediaType: MediaTypeText.plain,
    body: NonCopyableStaticStringWithDateHeader("Hello World")
)
```

When using Destiny for embedded, you would explicitly provide a `Body` generic parameter for `Route` like this:

```swift
Route<NonCopyableStaticStringWithDateHeader>.get(
    path: ["helloworld"],
    mediaType: MediaTypeText.plain,
    body: NonCopyableStaticStringWithDateHeader("Hello World")
)
```


## See Also
- [Error Handling](https://github.com/RandomHashTags/destiny/tree/main/Sources/Documentation.docc/ErrorHandling.md)
- [Logging, Metrics and Tracing](https://github.com/RandomHashTags/destiny/tree/main/Sources/Documentation.docc/LoggingMetricsTracing.md)
- [Macros](https://github.com/RandomHashTags/destiny/tree/main/Sources/Documentation.docc/Macros.md)
- [Middleware](https://github.com/RandomHashTags/destiny/tree/main/Sources/Documentation.docc/Middleware.md)
- [Performance](https://github.com/RandomHashTags/destiny/tree/main/Sources/Documentation.docc/Performance.md)
- [Route Path Components](https://github.com/RandomHashTags/destiny/tree/main/Sources/Documentation.docc/RoutePathComponents.md)
- [Routing Hierarchy](https://github.com/RandomHashTags/destiny/tree/main/Sources/Documentation.docc/RoutingHierarchy.md)